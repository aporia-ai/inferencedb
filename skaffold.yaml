apiVersion: skaffold/v2beta26
kind: Config
build:
  artifacts:  
    - image: account-id.dkr.ecr.us-east-2.amazonaws.com/inferencedb
deploy:
  helm:
    releases:
      - name: inferencedb
        chartPath: ./charts/inferencedb
        artifactOverrides:
          image: account-id.dkr.ecr.us-east-2.amazonaws.com/inferencedb
        imageStrategy:
          helm: {}
        setValues:
          image:
            pullPolicy: IfNotPresent
          devMode: true
          logLevel: WARNING
          kafka:
            broker: kafka://kafka-cp-kafka:9092
            schemaRegistryUrl: http://kafka-cp-schema-registry:8081
            connectUrl: http://kafka-cp-kafka-connect:8083
          serviceMonitor:
            enabled: false
            selector:
              release: prometheus
